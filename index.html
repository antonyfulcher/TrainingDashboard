<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Training Plan Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- 
    Chosen Palette: Calm Focus (Warm Neutrals)
    Application Structure Plan: A single-page dashboard structure is used, split into five logical sections: "Typical Weekly Schedule", "Optional / Potential Sessions", "Lifestyle & Health Metrics", "Weekly Analysis", and "Long-Term Constraints". This structure was chosen to flow from the specific (Schedule) to the foundational (Lifestyle) and then to the analytical (Charts) and long-term (Constraints). The Optional Sessions section now uses the same interactive grid format as the main schedule for better scannability. The "Analysis" section contains a single chart focused on time allocation by modality.
    Visualization & Content Choices:
    - Report Info: Typical Weekly Schedule (table) -> Goal: Visualize weekly time/activity blocking with RAG likelihood -> Viz/Presentation: Interactive 7-Column Calendar Grid (HTML/Tailwind/JS) with RAG colors -> Interaction: Filter buttons (All, JJ, B, S&C, Rec) highlight relevant blocks. -> Justification: Far more intuitive and scannable than a text table.
    - Report Info: Other Possible Sessions (grid) -> Goal: Inform coach of potential extra sessions visually -> Viz/Presentation: Secondary 7-Column Calendar Grid (HTML/Tailwind) with RED status -> Interaction: Inherits filter functionality from main schedule. -> Justification: Clearly separates core schedule from optional sessions while maintaining visual consistency.
    - Report Info: Lifestyle Metrics (Sleep, Steps, Macros, Weight, Golf, Alcohol, Renovations, Partner Schedule, WFH, Program Strategy) -> Goal: Present core health context and strategic intent -> Viz/Presentation: Seven static metric cards (HTML/Tailwind) -> Interaction: None (static info) -> Justification: Presents complex metrics clearly and compactly.
    - Report Info: Activity durations (numeric) -> Goal: Compare time allocation between disciplines -> Viz/Presentation: Single Donut Chart (Chart.js/Canvas) -> Interaction: Hover for tooltips. -> Justification: Instantly shows training balance across modalities.
    - Report Info: Long-Term Constraints (table) -> Goal: Inform of future disruptions -> Viz/Presentation: Styled HTML Table (HTML/Tailwind) -> Interaction: None (static info) -> Justification: Clearest way to present this specific data.
    - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdfcf9;
            color: #3f3c3a;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .activity-card {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            border: 1px solid #e0ddd9;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .activity-card.dimmed {
            opacity: 0.2;
            transform: scale(0.98);
        }
        .filter-btn {
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
        }
        .filter-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        /* Filter button active colors */
        .filter-btn[data-filter="jj"].active { border-color: #3b82f6; background-color: #dbeafe; color: #1e3a8a; }
        .filter-btn[data-filter="b"].active { border-color: #14b8a6; background-color: #ccfbf1; color: #0f766e; }
        .filter-btn[data-filter="s&c"].active { border-color: #ef4444; background-color: #fee2e2; color: #991b1b; }
        .filter-btn[data-filter="rec"].active { border-color: #a855f7; background-color: #f3e8ff; color: #7e22ce; }
        
        /* RAG Status Styles */
        .card-rag-green { background-color: #f0fdf4; border-left: 4px solid #10b981; }
        .card-rag-amber { background-color: #fffbeb; border-left: 4px solid #f59e0b; }
        .card-rag-red { background-color: #fef2f2; border-left: 4px solid #ef4444; }

        .day-header {
            background-color: #f4f3f1;
            border-bottom: 2px solid #e0ddd9;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <h1 class="text-3xl font-bold tracking-tight text-gray-900">My Training Plan Dashboard</h1>
            <p class="mt-1 text-lg text-gray-600">An interactive overview of my typical week and long-term plan.</p>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Section 1: Typical Weekly Schedule -->
        <section id="typical-week" class="mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Typical Weekly Schedule</h2>
            <p class="mb-6 text-gray-700">
                **Color Status Key (Likelihood of Attendance):** <span class="font-bold text-green-700">GREEN</span>, 
                <span class="font-bold text-yellow-700">AMBER</span>, 
                <span class="font-bold text-red-700">RED</span>.
            </p>

            <!-- Filter Buttons -->
            <div class="flex flex-wrap gap-2 mb-6">
                <button class="filter-btn active font-semibold py-2 px-4 rounded-full shadow-sm" data-filter="all">All</button>
                <button class="filter-btn font-semibold py-2 px-4 rounded-full shadow-sm" data-filter="jj">Jiu-Jitsu/Wrestling</button>
                <button class="filter-btn font-semibold py-2 px-4 rounded-full shadow-sm" data-filter="b">Boxing</button>
                <button class="filter-btn font-semibold py-2 px-4 rounded-full shadow-sm" data-filter="s&c">S&C</button>
                <button class="filter-btn font-semibold py-2 px-4 rounded-full shadow-sm" data-filter="rec">Recovery</button>
            </div>

            <!-- Weekly Grid -->
            <div class="grid grid-cols-1 md:grid-cols-7 gap-1 bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200">
                <!-- Day Headers -->
                <div class="day-header p-3 text-center font-bold text-gray-700">Monday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Tuesday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Wednesday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Thursday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Friday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Saturday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Sunday</div>

                <!-- Activity Cards -->
                <!-- Monday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[200px]">
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="s&c">
                        <span class="text-sm font-semibold text-red-800">S&C</span>
                        <p class="text-xs text-gray-700">12:00 PM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 5. Low likelihood of attendance.</p>
                    </div>
                    <div class="activity-card card-rag-amber rounded-lg p-3" data-activity-type="jj">
                        <span class="text-sm font-semibold text-yellow-800">Jiu-Jitsu</span>
                        <p class="text-xs text-gray-700">7:30 PM (90 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 6: Drills & Sparring.</p>
                    </div>
                </div>
                <!-- Tuesday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[200px]">
                    <div class="activity-card card-rag-green rounded-lg p-3" data-activity-type="b">
                        <span class="text-sm font-semibold text-green-800">Boxing Circuit</span>
                        <p class="text-xs text-gray-700">12:15 PM (30 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 7: Circuit + Padwork.</p>
                    </div>
                    <div class="activity-card card-rag-green rounded-lg p-3" data-activity-type="s&c">
                        <span class="text-sm font-semibold text-green-800">S&C</span>
                        <p class="text-xs text-gray-700">1:00 PM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 8.</p>
                    </div>
                    <div class="activity-card card-rag-amber rounded-lg p-3" data-activity-type="rec">
                        <span class="text-sm font-semibold text-yellow-800">Recovery</span>
                        <p class="text-xs text-gray-700">2:00 PM (30 min)</p>
                        <p class="text-xs text-gray-600 mt-1">Mobility, Sauna, etc.</p>
                    </div>
                </div>
                <!-- Wednesday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[200px]">
                    <div class="activity-card card-rag-green rounded-lg p-3" data-activity-type="b">
                        <span class="text-sm font-semibold text-green-800">Boxing</span>
                        <p class="text-xs text-gray-700">12:45 PM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 7: Padwork.</p>
                    </div>
                    <div class="activity-card card-rag-green rounded-lg p-3" data-activity-type="jj">
                        <span class="text-sm font-semibold text-green-800">JJ/Wrestling</span>
                        <p class="text-xs text-gray-700">7:30 PM (90 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 8: Drills & Sparring.</p>
                    </div>
                </div>
                <!-- Thursday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[200px]">
                    <div class="activity-card card-rag-amber rounded-lg p-3" data-activity-type="s&c">
                        <span class="text-sm font-semibold text-yellow-800">S&C</span>
                        <p class="text-xs text-gray-700">12:00 PM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 6.</p>
                    </div>
                     <div class="activity-card card-rag-amber rounded-lg p-3" data-activity-type="rec">
                        <span class="text-sm font-semibold text-yellow-800">Recovery</span>
                        <p class="text-xs text-gray-700">1:00 PM (30 min)</p>
                        <p class="text-xs text-gray-600 mt-1">Mobility, Sauna, etc.</p>
                    </div>
                </div>
                <!-- Friday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[200px]">
                     <div class="activity-card card-rag-amber rounded-lg p-3" data-activity-type="jj">
                        <span class="text-sm font-semibold text-yellow-800">Jiu-Jitsu</span>
                        <p class="text-xs text-gray-700">7:00 AM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 4: Light Rolls/Technical Work.</p>
                    </div>
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="b">
                        <span class="text-sm font-semibold text-red-800">Boxing Sparring</span>
                        <p class="text-xs text-gray-700">6:00 PM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE 9. High intensity/low likelihood.</p>
                    </div>
                </div>
                <!-- Saturday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[200px]">
                    <p class="text-xs text-gray-500 italic">Unscheduled</p>
                </div>
                <!-- Sunday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 border-gray-100 min-h-[200px]">
                    <p class="text-xs text-gray-500 italic">Unscheduled</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Other Possible Training Sessions -->
        <section id="other-sessions" class="mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Optional / Potential Sessions</h2>
            <p class="mb-6 text-gray-700">
                These are supplementary sessions available during the week that are currently NOT included in the core schedule or analysis. Attendance is considered **RED** unless otherwise planned.
            </p>

            <!-- Weekly Grid - Optional Sessions -->
            <div class="grid grid-cols-1 md:grid-cols-7 gap-1 bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200">
                <!-- Day Headers -->
                <div class="day-header p-3 text-center font-bold text-gray-700">Monday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Tuesday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Wednesday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Thursday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Friday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Saturday</div>
                <div class="day-header p-3 text-center font-bold text-gray-700">Sunday</div>

                <!-- Activity Cards - All Red -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[150px]"><p class="text-xs text-gray-500 italic">No Sessions</p></div>
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[150px]"><p class="text-xs text-gray-500 italic">No Sessions</p></div>
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[150px]"><p class="text-xs text-gray-500 italic">No Sessions</p></div>
                <!-- Thursday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[150px]">
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="b">
                        <span class="text-sm font-semibold text-red-800">Boxing (Pads)</span>
                        <p class="text-xs text-gray-700">1:00 PM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE: N/A. Potential Add.</p>
                    </div>
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="jj">
                        <span class="text-sm font-semibold text-red-800">Jiu-Jitsu Class</span>
                        <p class="text-xs text-gray-700">7:30 PM (90 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE: N/A. Potential Add.</p>
                    </div>
                </div>
                <!-- Friday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[150px]">
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="s&c">
                        <span class="text-sm font-semibold text-red-800">Hyrox Session</span>
                        <p class="text-xs text-gray-700">6:30 AM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE: N/A. Potential Add.</p>
                    </div>
                </div>
                <!-- Saturday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 md:border-r border-gray-100 min-h-[150px]">
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="jj">
                        <span class="text-sm font-semibold text-red-800">JJ Open Mat</span>
                        <p class="text-xs text-gray-700">10:00 AM (90 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE: N/A. Potential Add.</p>
                    </div>
                </div>
                <!-- Sunday -->
                <div class="p-2 space-y-2 border-t md:border-t-0 border-gray-100 min-h-[150px]">
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="s&c">
                        <span class="text-sm font-semibold text-red-800">Hyrox Session</span>
                        <p class="text-xs text-gray-700">8:30 AM (60 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE: N/A. Potential Add.</p>
                    </div>
                    <div class="activity-card card-rag-red rounded-lg p-3" data-activity-type="jj">
                        <span class="text-sm font-semibold text-red-800">JJ Open Mat</span>
                        <p class="text-xs text-gray-700">10:00 AM (90 min)</p>
                        <p class="text-xs text-gray-600 mt-1">RPE: N/A. Potential Add.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section 3: Lifestyle & Health Metrics -->
        <section id="lifestyle" class="mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Lifestyle & Health Metrics</h2>
            <p class="mb-6 text-gray-700">
                These foundational metrics provide critical context for recovery, energy levels, and long-term goals.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Sleep Card -->
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-bold mb-2 text-blue-600 flex items-center">
                        <span class="mr-2">&#9790;</span> Average Sleep
                    </h3>
                    <p class="text-4xl font-extrabold text-gray-900">7h 15m</p>
                    <p class="text-sm text-gray-500 mt-1">Daily hours recorded.</p>
                </div>
                <!-- Steps Card -->
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-bold mb-2 text-indigo-600 flex items-center">
                        <span class="mr-2">&#968;</span> Average Steps
                    </h3>
                    <p class="text-4xl font-extrabold text-gray-900">7,000</p>
                    <p class="text-sm text-gray-500 mt-1">Daily steps recorded.</p>
                </div>
                <!-- Macros Card -->
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-bold mb-2 text-green-600 flex items-center">
                        <span class="mr-2">&#x25A0;</span> Current Macros
                    </h3>
                    <p class="text-md font-semibold text-gray-800">Calories: 2023</p>
                    <p class="text-md font-semibold text-gray-800">Protein: 220g</p>
                    <p class="text-md font-semibold text-gray-800">Carbs: 134g</p>
                    <p class="text-md font-semibold text-gray-800">Fats: 67g</p>
                </div>
                <!-- Weight History Card -->
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-bold mb-2 text-yellow-600 flex items-center">
                        <span class="mr-2">&#9679;</span> Weight History
                    </h3>
                    <div class="space-y-1">
                        <p class="text-md text-gray-700"><span class="font-bold">Lowest:</span> 82 kg</p>
                        <p class="text-md text-gray-700"><span class="font-bold">Highest:</span> 106 kg</p>
                        <p class="text-md text-gray-700"><span class="font-bold">Current:</span> 101 kg</p>
                    </div>
                </div>
                 <!-- Target Card -->
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-bold mb-2 text-red-600 flex items-center">
                        <span class="mr-2">&#9650;</span> Target Goal
                    </h3>
                    <p class="text-4xl font-extrabold text-gray-900">88 kg</p>
                    <p class="text-sm text-gray-500 mt-1">Target date: March 26.</p>
                </div>
                <!-- Golf/Other Lifestyle Factors Card -->
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-bold mb-2 text-purple-600 flex items-center">
                        <span class="mr-2">&#9918;</span> Other Lifestyle Factors
                    </h3>
                    <div class="space-y-2">
                        <p class="text-sm text-gray-700"><span class="font-bold">Work:</span> Works from home (High flexibility/Low travel fatigue).</p>
                        <p class="text-sm text-gray-700"><span class="font-bold">Hobby:</span> Golf (Social, Low intensity)</p>
                        <p class="text-sm text-red-700"><span class="font-bold">Alcohol:</span> Frequent intake significantly impacts recovery/sleep.</p>
                        <p class="text-sm text-yellow-800"><span class="font-bold">Renovations:</span> Consistent high-effort activity during weekends/evenings (impacts recovery and evening training).</p>
                        <p class="text-sm text-blue-700"><span class="font-bold">Partner Schedule:</span> Variable days off require plan shuffling/flexibility for recovery and social time.</p>
                    </div>
                </div>
                <!-- NEW Program Strategy & Vulnerabilities Card -->
                <div class="lg:col-span-full bg-white p-6 rounded-lg shadow-xl border border-gray-300">
                    <h3 class="text-xl font-bold mb-3 text-orange-600 flex items-center">
                        <span class="mr-2">&#9881;</span> Program Strategy & Vulnerabilities
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="border-l-4 border-green-500 pl-4">
                            <h4 class="font-semibold text-lg text-gray-800 mb-1">12-Week Strategic Goal</h4>
                            <p class="text-sm text-gray-700">Achieve **88 kg target** by March 26, 2026, while **maintaining and developing Jiujitsu strength** for the match.</p>
                        </div>
                        <div class="border-l-4 border-red-500 pl-4">
                            <h4 class="font-semibold text-lg text-gray-800 mb-1">Physical Vulnerabilities</h4>
                            <ul class="text-sm text-gray-700 list-disc list-inside space-y-1">
                                <li>**Lower Back:** Prone to issues after deadlifting (requires diligent form/recovery).</li>
                                <li>**Shoulders:** Weakest recovery point overall (needs dedicated mobility/prehab).</li>
                                <li>**Neck:** Jiujitsu risk factor (recovery is paramount).</li>
                                <li>**Hips:** Biggest mobility issue (requires programmed mobility work).</li>
                            </ul>
                        </div>
                        <div class="border-l-4 border-yellow-500 pl-4">
                            <h4 class="font-semibold text-lg text-gray-800 mb-1">Primary Recovery Threat</h4>
                            <p class="text-sm text-gray-700">**High Alcohol Intake (up to 20+ pints/week).** This frequently compromises sleep, recovery capacity, and forces session rescheduling to limit injury risk. Mitigation through mandatory Recovery Sessions (sauna/plunge) is essential.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- Section 4: Weekly Analysis -->
        <section id="weekly-analysis" class="mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Weekly Analysis</h2>
            <p class="mb-6 text-gray-700">
                This chart reflects your **630-minute scheduled training week** (including recovery), providing a clear breakdown of your time commitment across different modalities.
            </p>
            <div class="grid grid-cols-1 gap-8 max-w-xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                    <h3 class="text-lg font-semibold text-center mb-4 text-gray-900">Training Modality Breakdown (Total: 630 min)</h3>
                    <div class="chart-container">
                        <canvas id="modalityChart"></canvas>
                    </div>
                </div>
                
            </div>
        </section>

        <!-- Section 5: Long-Term Constraints -->
        <section id="long-term">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Long-Term Constraints (Weeks 1-12)</h2>
            <p class="mb-6 text-gray-700">
                This table lists known future commitments that will impact the typical schedule. This is crucial for the coach to plan deload weeks, manage fatigue, and adjust training intensity around these events.
            </p>
            <div class="bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-100">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Week #</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Date(s)</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Constraint Type</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Impact on Training</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">1</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">05/11/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Wedding - Evening Guest</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Unable to attend Jiujitsu PM / Impacted Recovery</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">1</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">06/11/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Anniversary</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Impacted Capacity for S&C</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">1</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">07/11/2025 - 09/11/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Anniversary Trip to London</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">All Training Cancelled / Impacted Recovery</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">2</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">13/11/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Work - Office Day</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">No daytime Capacity</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">2</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">14/11/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Evening Music Gig</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">No Evening Capacity</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">2</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">15/11/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Birthday Event</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">All Training Cancelled / Impacted Recovery</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">4</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">27/11/2025 - 02/12/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Holiday/Cruise</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Onboard Cruise - Ability to Use Gym</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">6</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">11/12/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Work Christmas Party</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">All Training Cancelled / Impacted Recovery</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">8</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">24/12/2025 - 26/12/2025</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Christmas Break</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">All Training Cancelled / Impacted Recovery</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">9</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">31/12/2025 - 01/01/2026</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">NYE Break</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">All Training Cancelled / Impacted Recovery</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">11</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">[Date]</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Placeholder for future event</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">Adjust as needed.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <footer class="mt-12 border-t border-gray-200 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-gray-500">
            <p>&copy; 2025 Training Plan Dashboard. Generated for planning and analysis.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            function wrapText(ctx, text, maxWidth) {
                const words = text.split(' ');
                let lines = [];
                let currentLine = words[0];

                for (let i = 1; i < words.length; i++) {
                    const word = words[i];
                    const width = ctx.measureText(currentLine + " " + word).width;
                    if (width < maxWidth) {
                        currentLine += " " + word;
                    } else {
                        lines.push(currentLine);
                        currentLine = word;
                    }
                }
                lines.push(currentLine);
                return lines;
            }

            /* --- UPDATED MODALITY DATA (Total: 630 min) --- */
            const modalityData = {
                labels: ['Jiu-Jitsu (240 min)', 'Boxing (150 min)', 'S&C (180 min)', 'Recovery (60 min)'],
                datasets: [{
                    label: 'Time in Minutes',
                    data: [240, 150, 180, 60],
                    backgroundColor: [
                        '#3b82f6', // JJ
                        '#14b8a6', // Boxing
                        '#ef4444', // S&C
                        '#a855f7'  // Recovery
                    ],
                    borderColor: '#fdfcf9',
                    borderWidth: 4,
                    hoverOffset: 8
                }]
            };

            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#3f3c3a',
                            font: {
                                family: "'Inter', sans-serif"
                            },
                            padding: 20,
                            boxWidth: 15
                        }
                    },
                    tooltip: {
                        backgroundColor: '#3f3c3a',
                        titleFont: {
                            family: "'Inter', sans-serif",
                            weight: 'bold',
                            size: 14
                        },
                        bodyFont: {
                            family: "'Inter', sans-serif",
                            size: 12
                        },
                        padding: 12,
                        cornerRadius: 4,
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed + ' min';
                                }
                                return label;
                            }
                        }
                    }
                },
                cutout: '65%'
            };

            const modalityCtx = document.getElementById('modalityChart').getContext('2d');
            new Chart(modalityCtx, {
                type: 'doughnut',
                data: modalityData,
                options: chartOptions
            });

            const filterButtons = document.querySelectorAll('.filter-btn');
            const activityCards = document.querySelectorAll('.activity-card');

            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.dataset.filter;

                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    activityCards.forEach(card => {
                        const type = card.dataset.activityType;
                        
                        let show = false;
                        if (filter === 'all') {
                            show = true;
                        } else {
                            show = type === filter;
                        }

                        if (show) {
                            card.classList.remove('dimmed');
                        } else {
                            card.classList.add('dimmed');
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
